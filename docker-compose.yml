services:
  # üß≤ qBittorrent
  qbittorrent:
    image: lscr.io/linuxserver/qbittorrent:latest
    container_name: qbittorrent
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Sydney
      - WEBUI_PORT=8080
    volumes:
      - "D:/DITCHFLIX/qbittorrent-config:/config"
      - "D:/DITCHFLIX/downloads:/downloads"
    ports:
      - "8080:8080"
      - "6881:6881"
      - "6881:6881/udp"
    restart: unless-stopped
    networks:
      - ditchflix

  # üß© Jackett
  jackett:
    image: lscr.io/linuxserver/jackett:latest
    container_name: jackett
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Sydney
    volumes:
      - "D:/DITCHFLIX/jackett-config:/config"
      - "D:/DITCHFLIX/downloads:/downloads"
    ports:
      - "9117:9117"
    restart: unless-stopped
    networks:
      - ditchflix

  # üé¨ Radarr
  radarr:
    image: lscr.io/linuxserver/radarr:latest
    container_name: radarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Sydney
    volumes:
      - "D:/DITCHFLIX/radarr-config:/config"
      - "D:/DITCHFLIX/Movies:/movies"
      - "D:/DITCHFLIX/downloads:/downloads"
    ports:
      - "7878:7878"
    depends_on:
      - qbittorrent
      - jackett
    restart: unless-stopped
    networks:
      - ditchflix

  # üì∫ Sonarr
  sonarr:
    image: lscr.io/linuxserver/sonarr:latest
    container_name: sonarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Sydney
    volumes:
      - "D:/DITCHFLIX/sonarr-config:/config"
      - "D:/DITCHFLIX/TV Shows:/tv"
      - "D:/DITCHFLIX/downloads:/downloads"
    ports:
      - "8989:8989"
    depends_on:
      - qbittorrent
      - jackett
    restart: unless-stopped
    networks:
      - ditchflix

  # üí¨ Bazarr
  bazarr:
    image: lscr.io/linuxserver/bazarr:latest
    container_name: bazarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Sydney
    volumes:
      - "D:/DITCHFLIX/bazarr-config:/config"
      - "D:/DITCHFLIX/Movies:/movies"
      - "D:/DITCHFLIX/TV Shows:/tv"
    ports:
      - "6767:6767"
    depends_on:
      - radarr
      - sonarr
    restart: unless-stopped
    networks:
      - ditchflix

  # üîç Prowlarr
  prowlarr:
    image: lscr.io/linuxserver/prowlarr:latest
    container_name: prowlarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Sydney
    volumes:
      - "D:/DITCHFLIX/prowlarr-config:/config"
    ports:
      - "9696:9696"
    restart: unless-stopped
    networks:
      - ditchflix

  # üéûÔ∏è Jellyfin
  jellyfin:
    image: lscr.io/linuxserver/jellyfin:latest
    container_name: jellyfin
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Australia/Sydney
    volumes:
      - "D:/DITCHFLIX/jellyfin-config:/config"
      - "D:/DITCHFLIX/Movies:/data/movies"
      - "D:/DITCHFLIX/TV Shows:/data/tv"
      - "D:/DITCHFLIX/Music:/data/music"
      - "D:/DITCHFLIX/Files:/data/files"
      - "D:/DITCHFLIX/downloads:/data/downloads"
    ports:
      - "8096:8096"
    depends_on:
      - qbittorrent
      - radarr
      - sonarr
    restart: unless-stopped
    networks:
      - ditchflix

  # üåê Caddy Reverse Proxy
  caddy:
    build:
      context: ./caddy
    image: ditchflix-caddy:latest
    container_name: caddy
    restart: unless-stopped
    ports:
      - "80:80"
      - "443:443"
    environment:
      - TZ=Australia/Sydney
    volumes:
      - "./caddy-data:/data"
      - "./caddy-config:/config"
    networks:
      - ditchflix
    depends_on:
      - jellyfin
      - sonarr
      - radarr
      - prowlarr
      - bazarr
      - qbittorrent

networks:
  ditchflix:
    driver: bridge
